local disassembly = {}

local ReadScript = game:HttpGet("https://raw.githubusercontent.com/x-wz5/reg/refs/heads/main/wefwwffwef.lua")
local Read = loadstring(ReadScript)()

local opcodeScript = game:HttpGet("https://raw.githubusercontent.com/x-wz5/reg/refs/heads/main/idk")
local opcode = loadstring(opcodeScript)()

function disassembly.new(bytecode)
    local Reader = Read.new(bytecode)
    local opcodeInstance = opcode.new()
    local opcodeMap = opcodeInstance.map
    local self = {}
    
    function self:disassembly()
        local result = ""
        while Reader.cursor < Reader:len() do
            local byte = Reader:nextByte()
            local byteArgs = opcodeInstance:getArg(byte)
            local opcodeName = opcodeInstance:getOpcode(byte)
            if opcodeName then
                local arg = Reader:nextArg(byteArgs)
                result = result .. opcodeName .. "  " .. arg .. "\n"
            else
                result = result .. "Unknown opcode: " .. byte .. "\n"
            end
        end
        return result
    end

    return self
end

return disassembly